import{o as r,c as a,b as e,H as j,L as S,u,r as c,a as l,w as _,F as m,l as x,t as d,g as f,v as M,N as T,h as B}from"./app.6f85a397.js";import{A as N}from"./Admin.a410f67b.js";import{P}from"./Pagination.e5d1b0ba.js";import{u as H}from"./useConfirm.21277284.js";import{_ as V}from"./_plugin-vue_export-helper.cdc0426e.js";import"./ChevronRightIcon.f96439b0.js";import"./EllipsisHorizontalIcon.20c2d667.js";function A(s,o){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function E(s,o){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})])}function z(s,o){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})])}const{confirm:w}=H(),F={components:{Head:j,AppLayout:N,Link:S,Pagination:P,EyeIcon:E,TrashIcon:z,CheckCircleIcon:A},props:{errors:Object,users:Object,search_cond:Object,total:Number,total_point:Number},mounted(){},methods:{search(){this.form_search.get(route("admin.users"))},updateStatus(s,o){o==0?w("\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u30D6\u30ED\u30C3\u30AF\u3057\u307E\u3059\u304B\uFF1F","\u7372\u5F97\u3057\u305F\u5546\u54C1\u3068\u767A\u9001\u4F9D\u983C\u4E2D\u306E\u5546\u54C1\u306F\u5168\u3066\u56DE\u53CE\u3055\u308C\u307E\u3059\u3002","warning").then(n=>{n&&u({id:s,status:o}).post(route("admin.users.update"))}):w("\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u627F\u8A8D\u3057\u307E\u3059\u304B\uFF1F").then(n=>{n&&u({id:s,status:o}).post(route("admin.users.update"))})}},setup(s){return{form_search:u(s.search_cond)}}},O={class:"md:px-4 px-2"},D={class:"border-b w-full p-2 my-2 font-semibold flex justify-between flex-wrap items-center gap-3"},U=e("h3",null,"\u30E6\u30FC\u30B6\u30FC\u7BA1\u7406",-1),q={class:"font-normal flex gap-2"},G={class:"font-bold"},J={class:"w-full flex flex-col gap-4 mb-8"},K={class:"w-full flex justify-between gap-4"},Q={class:"flex-1 flex flex-wrap gap-2"},R=e("option",{value:"created_at"},"\u767B\u9332\u65E5",-1),W=e("option",{value:"amount"},"\u8CFC\u5165\u91D1\u984D",-1),X=e("option",{value:"point"},"\u30DD\u30A4\u30F3\u30C8",-1),Y=e("option",{value:"rank"},"\u30E9\u30F3\u30AF",-1),Z=e("option",{value:"status"},"\u72B6\u614B",-1),$=[R,W,X,Y,Z],ee={class:"flex gap-2"},te={class:"w-full overflow-auto"},oe={class:"min-w-full"},se=e("thead",null,[e("tr",{class:"border-b border-collapse border-sky-100 whitespace-nowrap"},[e("th",{class:"text-center py-2"},"\u8A73\u7D30"),e("th",{class:"text-center py-2"},"\u30E6\u30FC\u30B6\u30FC\u540D"),e("th",{class:"text-center py-2"},"\u8CFC\u5165\u91D1\u984D"),e("th",{class:"text-center py-2"},"\u30DD\u30A4\u30F3\u30C8"),e("th",{class:"text-center py-2"},"\u30E9\u30F3\u30AF"),e("th",{class:"text-center py-2"})])],-1),ne={class:"text-sm"},re={class:"border border-sky-100 divide-x-2 divide-sky-50 border-collapse"},ae={class:"text-center py-2 px-1"},ce={class:"text-center py-2 px-1 text-red-600 text-nowrap"},le={class:"text-center py-2 px-1 max-w-full overflow-hidden whitespace-nowrap text-ellipsis"},de={class:"text-center py-2 px-1 max-w-full overflow-hidden whitespace-nowrap text-ellipsis"},ie={class:"text-center py-2 px-1"},pe={class:"text-center py-1 whitespace-nowrap"},ue=["onClick"],he=["onClick"];function _e(s,o,n,i,me,p){const y=c("Head"),b=c("EyeIcon"),k=c("Link"),v=c("TrashIcon"),g=c("CheckCircleIcon"),C=c("Pagination"),L=c("AppLayout");return r(),a(m,null,[l(y,{title:"\u30E6\u30FC\u30B6\u30FC\u7BA1\u7406"}),l(L,null,{default:_(()=>[e("div",O,[e("div",D,[U,e("span",q,[x("\u5408\u8A08\u30DD\u30A4\u30F3\u30C8: "),e("span",G,d(n.total_point.toLocaleString()),1),x("PT")])]),e("div",J,[e("div",K,[e("div",Q,[f(e("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>i.form_search.keyword=t),type:"text",class:"text-sm flex-1 md:min-w-96 border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u30E6\u30FC\u30B6\u30FC\u540D\u3001\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3001\u96FB\u8A71\u756A\u53F7\u3001\u4F4F\u6240\u3092\u5165\u529B\u3057\u307E\u3059\u3002"},null,512),[[M,i.form_search.keyword]]),f(e("select",{"onUpdate:modelValue":o[1]||(o[1]=t=>i.form_search.order_by=t),id:"order_by",class:"bg-white/90 flex-1 px-3 py-2 border border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md placeholder-neutral-400"},$,512),[[T,i.form_search.order_by]])]),e("div",ee,[e("button",{type:"button",onClick:o[2]||(o[2]=(...t)=>p.search&&p.search(...t)),class:"rounded-md border bg-neutral-600 text-white px-4 py-1"},"\u691C\u7D22")])]),e("div",te,[e("table",oe,[se,e("tbody",ne,[(r(!0),a(m,null,B(n.users,t=>{var h;return r(),a("tr",re,[e("td",ae,[l(k,{class:"px-2 py-0.5 border border-sky-300 rounded-lg hover:bg-sky-300 text-nowrap inline-flex items-center text-sky-500 hover:text-white",href:s.route("admin.users.detail",{id:t.id})},{default:_(()=>[l(b,{class:"w-5 h-5"})]),_:2},1032,["href"])]),e("td",ce,d(t.name),1),e("td",le,d(t.amount?parseInt(t.amount).toLocaleString()+" \u5186":""),1),e("td",de,d((h=t.point)==null?void 0:h.toLocaleString())+" PT",1),e("td",ie,d(t.rank),1),e("td",pe,[t.status?(r(),a("button",{key:0,onClick:I=>p.updateStatus(t.id,0),class:"px-2 py-1 rounded-md border text-rose-500 hover:text-white hover:bg-rose-400"},[l(v,{class:"w-5 h-5"})],8,ue)):(r(),a("button",{key:1,onClick:I=>p.updateStatus(t.id,1),class:"px-2 py-1 rounded-md border text-sky-500 hover:text-white hover:bg-sky-400"},[l(g,{class:"w-5 h-5"})],8,he))])])}),256))])])]),l(C,{search_cond:n.search_cond,route_name:"admin.users",total:n.total},null,8,["search_cond","total"])])])]),_:1})],64)}const ge=V(F,[["render",_e]]);export{ge as default};
