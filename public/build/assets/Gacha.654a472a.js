import{H as I,L as M,r as u,o as s,c as a,a as m,w as p,F as _,b as e,f as l,h as g,t as r,n as S,_ as B,K as D,M as T,l as b}from"./app.2a886391.js";import{A}from"./Admin.8a9aa4bd.js";import{F as G,f as N,o as L,N as V,V as O,r as P}from"./useConfirm.d225b68c.js";import{G as z}from"./GachaButtons.41526eff.js";import{P as F}from"./Pagination.73c69037.js";import{_ as H}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as R}from"./ExclamationTriangleIcon.5fe5d8d3.js";import"./PlayIcon.a7d942af.js";import"./ChevronRightIcon.b0967c97.js";import"./EllipsisHorizontalIcon.611ede04.js";const E={components:{Head:I,AppLayout:A,Footer:G,Link:M,GachaButtons:z,Pagination:F,TransitionRoot:N,TransitionChild:L,Dialog:V,DialogOverlay:O,XMarkIcon:P,ExclamationTriangleIcon:R},props:{errors:Object,gacha:Object,category_share:Object,gacha_log:Array,is_admin:Boolean,search_cond:Object,total:Number,code:String},data(){return{products:[this.gacha.products.filter(o=>o.rank==1),this.gacha.products.filter(o=>o.rank==2),this.gacha.products.filter(o=>o.rank==3),this.gacha.products.filter(o=>o.rank==4)],last_product:this.gacha.products.filter(o=>o.is_last==1),isDialogMessage:!1,dialogMessage:"",image:""}},methods:{format_number(o){return String(o).replace(/(.)(?=(\d{3})+$)/g,"$1,")},openImage(o){this.image=o,this.isDialogMessage=!0}},computed:{progress_width(){return this.gacha.count_card>0?Math.round(this.gacha.count_rest*100/this.gacha.count_card)+"%":"100%"},progress_color(){let o=this.gacha.count_card>0?Math.round(this.gacha.count_rest*100/this.gacha.count_card):100;return o>=50?"bg-green-500":o>=20?"bg-yellow-500":"bg-rose-500"}}},i=o=>(D("data-v-447fe669"),o=o(),T(),o),K={key:0,class:"w-full min-h-full flex flex-col"},X={class:"md:w-[680px] w-full mx-auto bg-white flex-1"},q={class:"mx-auto relative"},J=["src"],Q=["src"],U={class:"flex justify-center items-center flex-col w-full mx-auto px-2 font-[mplus2] py-6"},W={key:0,src:"/images/Scard.png",class:"h-16"},Y={key:1,class:"flex flex-wrap justify-center w-full mt-2 mb-8"},Z=["onClick"],$=["src"],ee=["src","alt"],te={key:1,class:"absolute bottom-2 right-2 bg-black/70 text-white text-sm font-bold px-2 py-1 rounded"},se={key:2,src:"/images/Acard.png",class:"h-16"},ae={key:3,class:"flex flex-wrap justify-center w-full mt-2 mb-8"},le=["onClick"],oe=["src"],ne=["src","alt"],ce={key:1,class:"absolute top-2 right-2 bg-black/70 text-white text-sm font-bold px-2 py-1 rounded"},re={key:4,src:"/images/Bcard.png",class:"h-16"},ie={key:5,class:"flex flex-wrap justify-center w-full mt-2 mb-8"},de=["onClick"],he=["src"],_e=["src","alt"],me={key:1,class:"absolute top-2 right-2 bg-black/70 text-white text-sm font-bold px-2 py-1 rounded"},ue={key:6,src:"/images/Ccard.png",class:"h-16"},ge={key:7,class:"flex flex-wrap justify-center w-full mt-2 mb-8"},xe=["onClick"],fe=["src"],pe=["src","alt"],be={key:1,class:"absolute top-2 right-2 bg-black/70 text-white text-sm font-bold px-2 py-1 rounded"},we={key:8,class:"text-xl font-bold text-purple-500 stroke-text"},ye={key:9,class:"flex flex-wrap justify-center w-full my-4"},ve=["onClick"],ke=["src"],je=["src","alt"],Ce={key:1,class:"absolute top-2 right-2 bg-black/70 text-white text-sm font-bold px-2 py-1 rounded"},Ie=i(()=>e("span",{class:"mt-8 mb-4 text-xl font-bold"},"\u305D\u306E\u4ED6",-1)),Me=i(()=>e("span",{class:"mb-4"},"\u30FB\u305D\u306E\u4ED6\u30AB\u30FC\u30C9\u3042\u308A",-1)),Se=i(()=>e("div",{class:"w-full bg-white py-8 px-4 md:px-6"},[e("div",{class:"max-w-4xl mx-auto font-[mplus2]"},[e("h2",{class:"text-lg md:text-xl font-bold text-gray-800 mb-6 text-center flex items-center justify-center gap-2"},[e("span",{class:"w-1 h-6 bg-blue-500 rounded-full"}),b(" \u6CE8\u610F\u4E8B\u9805 "),e("span",{class:"w-1 h-6 bg-blue-500 rounded-full"})]),e("div",{class:"space-y-4"},[e("div",{class:"bg-white rounded-lg border-l-4 border-amber-500 shadow-sm hover:shadow-md transition-shadow duration-200 p-4 md:p-5"},[e("div",{class:"flex items-start gap-3"},[e("div",{class:"flex-shrink-0 w-5 h-5 md:w-6 md:h-6 rounded-full bg-amber-100 flex items-center justify-center"},[e("span",{class:"text-amber-600 font-bold text-sm"},"!")]),e("div",{class:"flex-1"},[e("h3",{class:"font-bold text-sm md:text-base text-gray-800 mb-2"},"\u30B1\u30FC\u30B9\u3084\u30AB\u30FC\u30C9\u306E\u50B7\u306B\u3064\u3044\u3066"),e("p",{class:"text-xs md:text-sm text-gray-700 leading-relaxed"}," \u30AA\u30EA\u30D1\u3067\u6392\u51FA\u3055\u308C\u308B\u5546\u54C1\u306B\u306F\u50B7\u3084\u6C5A\u308C\u306E\u3042\u308B\u30AB\u30FC\u30C9\u304C\u3042\u308B\u5834\u5408\u304C\u3054\u3056\u3044\u307E\u3059\u3002 ")])])]),e("div",{class:"bg-white rounded-lg border-l-4 border-blue-500 shadow-sm hover:shadow-md transition-shadow duration-200 p-4 md:p-5"},[e("div",{class:"flex items-start gap-3"},[e("div",{class:"flex-shrink-0 w-5 h-5 md:w-6 md:h-6 rounded-full bg-blue-100 flex items-center justify-center"},[e("span",{class:"text-blue-600 font-bold text-sm"},"\u2713")]),e("div",{class:"flex-1"},[e("h3",{class:"font-bold text-sm md:text-base text-gray-800 mb-2"},"\u9451\u5B9A\u54C1(PSA.BGS)\u306B\u3064\u3044\u3066"),e("p",{class:"text-xs md:text-sm text-gray-700 leading-relaxed"}," \u9451\u5B9A\u54C1\u306B\u3064\u3044\u3066\u306F\u9451\u5B9A\u6A5F\u95A2\u306E\u30B0\u30EC\u30FC\u30C9\u306B\u57FA\u3065\u304D\u8CA9\u58F2\u3057\u3066\u304A\u308A\u307E\u3059\u3002\u30B1\u30FC\u30B9\u5185\u90E8\u306B\u898B\u3089\u308C\u308B\u30AB\u30FC\u30C9\u72B6\u614B\u306B\u3064\u3044\u3066\u3067\u306E\u4EA4\u63DB\u306F\u539F\u5247\u884C\u306A\u3063\u3066\u304A\u308A\u307E\u305B\u3093\u3002\u3054\u4E86\u627F\u304F\u3060\u3055\u3044\u3002 ")])])]),e("div",{class:"bg-white rounded-lg border-l-4 border-purple-500 shadow-sm hover:shadow-md transition-shadow duration-200 p-4 md:p-5"},[e("div",{class:"flex items-start gap-3"},[e("div",{class:"flex-shrink-0 w-5 h-5 md:w-6 md:h-6 rounded-full bg-purple-100 flex items-center justify-center"},[e("span",{class:"text-purple-600 font-bold text-sm"},"\u{1F4E6}")]),e("div",{class:"flex-1"},[e("h3",{class:"font-bold text-sm md:text-base text-gray-800 mb-2"},"\u672A\u958B\u5C01box\u306B\u3064\u3044\u3066"),e("p",{class:"text-xs md:text-sm text-gray-700 leading-relaxed"}," \u672A\u958B\u5C01box\u306F\u6975\u529B\u7DBA\u9E97\u306A\u3082\u306E\u3092\u304A\u5C4A\u3051\u3057\u3066\u304A\u308A\u307E\u3059\u304C\u3001\u7A00\u306B\u5916\u88C5\u306B\u8EFD\u5FAE\u306A\u50B7\u3084\u51F9\u307F\u3001\u30B7\u30E5\u30EA\u30F3\u30AF\u306E\u5C0F\u3055\u306A\u7834\u308C\u3001\u30DF\u30B7\u30F3\u76EE\u304C\u7834\u308C\u3066\u3044\u308B\u3053\u3068\u304C\u3042\u308A\u307E\u3059\u3002 ")])])]),e("div",{class:"bg-white rounded-lg border-l-4 border-green-500 shadow-sm hover:shadow-md transition-shadow duration-200 p-4 md:p-5"},[e("div",{class:"flex items-start gap-3"},[e("div",{class:"flex-shrink-0 w-5 h-5 md:w-6 md:h-6 rounded-full bg-green-100 flex items-center justify-center"},[e("span",{class:"text-green-600 font-bold text-sm"},"%")]),e("div",{class:"flex-1"},[e("h3",{class:"font-bold text-sm md:text-base text-gray-800 mb-2"},"\u78BA\u7387\u8868\u8A18\u306B\u3064\u3044\u3066"),e("p",{class:"text-xs md:text-sm text-gray-700 leading-relaxed"},[b(" \u6392\u51FA\u78BA\u7387\u306F\u30AA\u30EA\u30D1\u767A\u58F2\u6642\u70B9\u3067\u306E\u7406\u8AD6\u5024\u306B\u57FA\u3065\u3044\u3066\u8868\u793A\u3057\u3066\u304A\u308A\u307E\u3059\u3002"),e("br",{class:"hidden md:block"}),b(" \u5B9F\u969B\u306E\u78BA\u7387\u306F\u767A\u58F2\u6642\u70B9\u304B\u3089\u5909\u52D5\u3059\u308B\u53EF\u80FD\u6027\u304C\u3042\u308A\u3001\u8868\u793A\u3055\u308C\u3066\u3044\u308B\u6392\u51FA\u78BA\u7387\u3092\u4FDD\u8A3C\u3059\u308B\u3082\u306E\u3067\u306F\u3054\u3056\u3044\u307E\u305B\u3093\u3002 ")])])])])])])],-1)),Be={class:"sticky bottom-0 bg-white backdrop-blur-sm"},De={class:"w-full md:max-w-md mx-auto flex flex-col justify-center flex-1 max-h-20"},Te={class:"font-[mplus2]"},Ae={class:"flex justify-between items-end py-1.5 w-full"},Ge={class:"flex items-end gap-1.5 w-[45%] px-3"},Ne=i(()=>e("img",{src:"/images/icon_cash.png?v=4",class:"h-5 mb-1"},null,-1)),Le={class:"text-base md:text-xl font-bold"},Ve=i(()=>e("span",{class:"text-xs pb-0.5 text-nowrap"},"/1\u56DE",-1)),Oe={class:"flex-1 flex flex-col items-end gap-1.5 pr-2"},Pe={key:0,class:"text-xs pr-1"},ze={key:1,class:"flex items-center"},Fe=i(()=>e("span",{class:"font-semibold pr-2"},"- / -",-1)),He=[Fe],Re={class:"w-full px-2 pb-1"},Ee={class:"w-full h-2 rounded-full overflow-hidden flex bg-neutral-300/50"},Ke={class:"px-1 py-1 flex items-end"},Xe={key:1,class:"w-full"},qe={class:"flex flex-wrap justify-between items-center px-4 py-3 sticky top-[79px] bg-white"},Je=i(()=>e("h3",{class:"underline underline-offset-4 text-lg"},"\u6392\u51FA\u5C65\u6B74",-1)),Qe={class:"overflow-auto px-1"},Ue={class:"min-w-full"},We={class:"border-b border-collapse text-nowrap"},Ye=i(()=>e("th",{class:"text-center py-2 px-2"},"\u756A\u53F7",-1)),Ze=i(()=>e("th",{class:"text-center py-2 px-2"},"\u540D\u524D",-1)),$e=i(()=>e("th",{class:"text-center py-2 px-2"},"\u753B\u50CF",-1)),et=i(()=>e("th",{class:"text-center py-2 px-2"},"\u30EC\u30A2\u5EA6",-1)),tt=i(()=>e("th",{class:"text-center py-2 px-2"},"\u30DD\u30A4\u30F3\u30C8",-1)),st=i(()=>e("th",{class:"text-center py-2 px-2"},"\u30E6\u30FC\u30B6\u30FC",-1)),at=i(()=>e("th",{class:"text-center py-2 px-2"},"\u6642\u9593",-1)),lt={class:"border-b border-collapse text-sm"},ot={class:"text-center py-2 px-2"},nt={class:"text-center py-2 px-2"},ct={class:"text-center py-1 px-2 flex justify-center min-w-20 items-center"},rt=["src"],it={class:"text-center py-2 px-2"},dt={class:"text-center py-2 px-2"},ht={class:"text-center py-2 px-2"},_t={class:"text-center py-2 px-2"},mt=["src"];function ut(o,x,c,gt,n,d){const y=u("Head"),v=u("GachaButtons"),k=u("Pagination"),w=u("TransitionChild"),j=u("TransitionRoot"),C=u("AppLayout");return s(),a(_,null,[m(y,{title:"\u30AC\u30C1\u30E3"}),m(C,null,{default:p(()=>[c.gacha_log.length==0?(s(),a("div",K,[e("div",X,[e("div",q,[c.gacha.image!=""?(s(),a("img",{key:0,src:c.gacha.image,class:"block w-full"},null,8,J)):l("",!0),c.gacha.image==""?(s(),a("img",{key:1,src:c.gacha.thumbnail,class:"block w-full md:w-4/5 mx-auto"},null,8,Q)):l("",!0),e("div",U,[n.products[0].length>0?(s(),a("img",W)):l("",!0),n.products[0].length>0?(s(),a("div",Y,[(s(!0),a(_,null,g(n.products[0],(t,h)=>(s(),a("button",{key:h,onClick:f=>d.openImage(t.image),class:"w-1/2 md:w-1/3 p-2 relative"},[e("img",{src:t.image,class:"w-full"},null,8,$),t.badge?(s(),a("img",{key:0,src:t.badge,class:"absolute bottom-4 w-[calc(100%-3rem)] left-6",alt:t.badge},null,8,ee)):l("",!0),t.show_count>0?(s(),a("span",te," x"+r(t.show_count),1)):l("",!0)],8,Z))),128))])):l("",!0),n.products[1].length>0?(s(),a("img",se)):l("",!0),n.products[1].length>0?(s(),a("div",ae,[(s(!0),a(_,null,g(n.products[1],(t,h)=>(s(),a("button",{key:h,onClick:f=>d.openImage(t.image),class:"w-1/3 p-2 relative"},[e("img",{src:t.image,class:"w-full"},null,8,oe),t.badge?(s(),a("img",{key:0,src:t.badge,class:"absolute bottom-4 w-[calc(100%-2rem)] left-4",alt:t.badge},null,8,ne)):l("",!0),t.show_count>0?(s(),a("span",ce," x"+r(t.show_count),1)):l("",!0)],8,le))),128))])):l("",!0),n.products[2].length>0?(s(),a("img",re)):l("",!0),n.products[2].length>0?(s(),a("div",ie,[(s(!0),a(_,null,g(n.products[2],(t,h)=>(s(),a("button",{key:h,onClick:f=>d.openImage(t.image),class:"w-1/4 p-2 relative"},[e("img",{src:t.image,class:"w-full"},null,8,he),t.badge?(s(),a("img",{key:0,src:t.badge,class:"absolute bottom-3 w-[calc(100%-1rem)] left-2",alt:t.badge},null,8,_e)):l("",!0),t.show_count>0?(s(),a("span",me," x"+r(t.show_count),1)):l("",!0)],8,de))),128))])):l("",!0),n.products[3].length>0?(s(),a("img",ue)):l("",!0),n.products[3].length>0?(s(),a("div",ge,[(s(!0),a(_,null,g(n.products[3],(t,h)=>(s(),a("button",{key:h,onClick:f=>d.openImage(t.image),class:"w-1/4 p-2 relative"},[e("img",{src:t.image,class:"w-full"},null,8,fe),t.badge?(s(),a("img",{key:0,src:t.badge,class:"absolute bottom-3 w-[calc(100%-1rem)] left-2",alt:t.badge},null,8,pe)):l("",!0),t.show_count>0?(s(),a("span",be," x"+r(t.show_count),1)):l("",!0)],8,xe))),128))])):l("",!0),n.last_product.length>0?(s(),a("span",we,"( \u30E9\u30B9\u30C8\u30EF\u30F3\u8CDE )")):l("",!0),n.last_product.length>0?(s(),a("div",ye,[(s(!0),a(_,null,g(n.last_product,(t,h)=>(s(),a("button",{key:h,onClick:f=>d.openImage(t.image),class:"w-1/3 p-2 relative"},[e("img",{src:t.image,class:"w-full"},null,8,ke),t.badge?(s(),a("img",{key:0,src:t.badge,class:"absolute bottom-4 w-[calc(100%-3rem)] left-6",alt:t.badge},null,8,je)):l("",!0),t.show_count>0?(s(),a("span",Ce," x"+r(t.show_count),1)):l("",!0)],8,ve))),128))])):l("",!0),Ie,Me])])]),Se,e("div",Be,[e("div",De,[e("div",Te,[e("div",Ae,[e("div",Ge,[Ne,e("span",Le,r(d.format_number(c.gacha.point)),1),Ve]),e("div",Oe,[c.gacha.count_card>0?(s(),a("span",Pe," \u306E\u3053\u308A "+r(d.format_number(c.gacha.count_rest))+" / "+r(d.format_number(c.gacha.count_card)),1)):(s(),a("div",ze,He))])]),e("div",Re,[e("div",Ee,[e("div",{class:S(`h-full rounded-full border-neutral-800 transition-all duration-500 ${d.progress_color}`),style:B({width:d.progress_width})},null,6)])])])]),e("div",Ke,[m(v,{gacha:c.gacha},null,8,["gacha"])])])])):(s(),a("div",Xe,[e("div",qe,[Je,m(k,{search_cond:{...c.search_cond,id:c.gacha.id},route_name:"user.gacha",total:c.total},null,8,["search_cond","total"])]),e("div",Qe,[e("table",Ue,[e("thead",null,[e("tr",We,[Ye,Ze,$e,et,c.is_admin?(s(),a(_,{key:0},[tt,st,at],64)):l("",!0)])]),e("tbody",null,[(s(!0),a(_,null,g(c.gacha_log,(t,h)=>(s(),a("tr",lt,[e("td",ot,r(t.gacha_record_id),1),e("td",nt,r(t.name),1),e("td",ct,[e("img",{class:"w-16",src:t.image},null,8,rt)]),e("td",it,r(t.rare),1),c.is_admin?(s(),a(_,{key:0},[e("td",dt,r(d.format_number(t.point)),1),e("td",ht,r(t.email),1),e("td",_t,r(t.gacha_time),1)],64)):l("",!0)]))),256))])])])])),m(j,{show:n.isDialogMessage,class:"h-full fixed inset-0 z-40 top-0"},{default:p(()=>[m(w,{enter:"transition ease-in-out duration-100 transform","enter-from":"scale-50","enter-to":"scale-100",leave:"transition ease-in-out duration-200 transform","leave-from":"opacity-100","leave-to":"opacity-0",as:"template"},{default:p(()=>[e("div",{class:"relative z-20 w-full mx-auto md:w-[768px] h-screen flex items-center",onClick:x[0]||(x[0]=t=>n.isDialogMessage=!1)},[e("img",{src:n.image,class:"mx-auto max-h-[80%] max-w-[80%] w-full object-contain"},null,8,mt)])]),_:1}),m(w,{enter:"transition-opacity ease-linear duration-100","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-100","leave-from":"opacity-100","leave-to":"opacity-0",as:"template"},{default:p(()=>[e("div",{class:"fixed inset-0 bg-white h-full",onClick:x[1]||(x[1]=t=>n.isDialogMessage=!1)})]),_:1})]),_:1},8,["show"])]),_:1})],64)}const It=H(E,[["render",ut],["__scopeId","data-v-447fe669"]]);export{It as default};
