import{H as w,L as v,r as u,o as a,c as n,a as r,w as _,F as y,b as t,l as h,J as d,X as k,f as m,n as C,_ as N,K as L,M as S}from"./app.d9f94236.js";import{A as j}from"./UserLayout.ac1992f0.js";import{G as P}from"./GachaButtons.e9adc310.js";import{i as B}from"./index.a3ff9169.js";import{_ as T}from"./_plugin-vue_export-helper.cdc0426e.js";import"./useConfirm.6b5215a7.js";import"./PlayIcon.bc727e7a.js";const G={components:{Head:w,AppLayout:j,Link:v,GachaButtons:P},props:{errors:Object,auth:Object,number_products:Number,point:Number,gacha:Object,offer_coupon_code:String},data(){return{showPointNotification:!1}},computed:{progress_value(){return Math.round(this.gacha.count_rest*100/this.gacha.count_card)+"%"},progress_background_width(){return this.gacha.count_rest==0?"100%":Math.round(this.gacha.count_card*100/this.gacha.count_rest)+"%"}},mounted(){this.auth.user.point<this.gacha.point&&this.offer_coupon_code&&Math.random()<.5&&(this.showPointNotification=!0)},methods:{copyCouponCode(){navigator.clipboard.writeText(this.offer_coupon_code).then(()=>{B("\u30AF\u30FC\u30DD\u30F3\u30B3\u30FC\u30C9\u3092\u30B3\u30D4\u30FC\u3057\u307E\u3057\u305F\uFF01",{autoClose:2e3})})},goToCouponPage(){window.location.href=route("user.coupon",{code:this.offer_coupon_code})},closeNotification(){this.showPointNotification=!1}}},o=c=>(L("data-v-2faf9e10"),c=c(),S(),c),V={class:"pt-6 md:px-6 px-4"},z=o(()=>t("h1",{class:"mb-2 text-lg font-bold"},"\u30AC\u30C1\u30E3\u5B8C\u4E86",-1)),E=o(()=>t("hr",{class:"mb-8"},null,-1)),H={key:0,class:"mb-6 text-center text-sm"},M=o(()=>t("br",null,null,-1)),A={key:1,class:"mb-6 text-center text-sm"},I={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},O={class:"bg-white rounded-lg p-6 max-w-md w-full mx-4 animate-bounce-in"},F={class:"text-center"},X=["src"],D=o(()=>t("h3",{class:"text-base font-bold mb-2"},"\u6240\u6301\u30DD\u30A4\u30F3\u30C8\u304C\u5C11\u306A\u304F\u306A\u3063\u3066\u3044\u307E\u3059\uFF01",-1)),J=o(()=>t("p",{class:"mb-4 text-sm"},"\u6B21\u56DE\u306E\u30C1\u30E3\u30F3\u30B9\u306B\u5099\u3048\u3066\u30C1\u30E3\u30FC\u30B8\u3057\u307E\u305B\u3093\u304B\uFF1F",-1)),K={class:"flex items-center justify-center gap-2 mb-4"},q=o(()=>t("span",{class:"font-bold"},"\u30AF\u30FC\u30DD\u30F3\u30B3\u30FC\u30C9\uFF1A",-1)),Q=o(()=>t("span",{class:"bg-gray-100 px-2 py-1 rounded"},"EVE-X3p0L",-1)),R=o(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1)),U=[R],W={class:"flex justify-center gap-4"},Y={key:2,class:"mb-8 text-center"},Z=o(()=>t("h3",{class:"text-base font-bold"},"\u3082\u3046\u4E00\u5EA6\u30AC\u30C1\u30E3\u308B\uFF01",-1)),$=["src"],tt={class:"w-full max-w-md mx-auto flex flex-col justify-center flex-1 bg-neutral-600"},et={class:"text-white font-[mplus2]"},ot={class:"flex justify-between items-center pt-2 w-full"},st={class:"flex items-end gap-1.5 w-[45%] px-3"},at=o(()=>t("img",{src:"/images/icon_cash.png",class:"h-5 mb-1"},null,-1)),nt={class:"text-white text-base md:text-xl font-bold"},ct=o(()=>t("span",{class:"text-gray-300 text-xs pb-0.5 text-nowrap"},"/1\u56DE",-1)),it={class:"flex-1 flex flex-col items-end gap-1.5 pr-2"},rt={key:0,class:"text-white text-sm pr-1"},lt={key:1,class:"flex items-center"},dt=o(()=>t("span",{class:"font-semibold pr-2"},"- / -",-1)),ut=[dt],_t={class:"w-full mb-2.5"},ht={class:"w-full h-2.5 rounded-full overflow-hidden flex bg-neutral-800"},ft={class:"mb-12 text-center"};function mt(c,i,e,gt,g,s){const p=u("Head"),b=u("GachaButtons"),f=u("Link"),x=u("AppLayout");return a(),n(y,null,[r(p,{title:"\u30DE\u30A4\u30DA\u30FC\u30B8"}),r(x,null,{default:_(()=>[t("div",V,[z,E,e.point?(a(),n("div",H,[h(" \u8A08"+d(e.number_products)+"\u70B9\u306E\u5546\u54C1\u3092\u8A08"+d(e.point.toLocaleString())+"PT\u306B\u4EA4\u63DB\u3057\u307E\u3057\u305F\u3002",1),M,h(" \u305D\u306E\u4ED6\u306E\u5546\u54C1\u306F\u300C\u7372\u5F97\u3057\u305F\u5546\u54C1\u4E00\u89A7\u300D\u306B\u304A\u9001\u308A\u3057\u3066\u3044\u307E\u3059\u3002 ")])):(a(),n("div",A," \u5168\u3066\u306E\u5546\u54C1\u3092\u300C\u7372\u5F97\u3057\u305F\u5546\u54C1\u4E00\u89A7\u300D\u306B\u304A\u9001\u308A\u3057\u307E\u3057\u305F\u3002 ")),r(k,{name:"fade"},{default:_(()=>[g.showPointNotification?(a(),n("div",I,[t("div",O,[t("div",F,[t("img",{src:`/images/${e.offer_coupon_code}.jpg`,alt:"\u30DD\u30A4\u30F3\u30C8\u30C1\u30E3\u30FC\u30B8\u6848\u5185",class:"w-full mb-4"},null,8,X),D,J,t("div",K,[q,Q,t("button",{onClick:i[0]||(i[0]=(...l)=>s.copyCouponCode&&s.copyCouponCode(...l)),class:"bg-blue-500 text-white p-1.5 rounded hover:bg-blue-600 transition-colors duration-200"},U)]),t("div",W,[t("button",{onClick:i[1]||(i[1]=(...l)=>s.goToCouponPage&&s.goToCouponPage(...l)),class:"bg-theme bg-theme-hover text-white px-6 py-2 rounded transition-colors duration-200"}," \u30C1\u30E3\u30FC\u30B8\u3059\u308B "),t("button",{onClick:i[2]||(i[2]=(...l)=>s.closeNotification&&s.closeNotification(...l)),class:"bg-gray-300 text-gray-700 px-6 py-2 rounded hover:bg-gray-400 transition-colors duration-200"}," \u9589\u3058\u308B ")])])])])):m("",!0)]),_:1}),e.gacha.ableCount>0?(a(),n("div",Y,[Z,t("img",{src:e.gacha.thumbnail,class:"block w-full max-w-md mx-auto my-4"},null,8,$),t("div",tt,[t("div",et,[t("div",ot,[t("div",st,[at,t("span",nt,d(e.gacha.point.toLocaleString()),1),ct]),t("div",it,[e.gacha.count_card>0?(a(),n("span",rt," \u306E\u3053\u308A "+d(e.gacha.count_rest.toLocaleString())+" / "+d(e.gacha.count_card.toLocaleString()),1)):(a(),n("div",lt,ut)),t("div",_t,[t("div",ht,[t("div",{class:C(["h-full rounded-full border-neutral-800",{"bg-gradient-to-r from-[#dd422d] via-[#fae94e] to-[#02ec0e]":e.gacha.count_card>0,"bg-[#02ec0e] w-full":e.gacha.count_card==0}]),style:N(e.gacha.count_card>0?{width:s.progress_value,backgroundSize:s.progress_background_width}:{})},null,6)])])])])])]),r(b,{gacha:e.gacha,class:"bg-neutral-600 px-2 py-2"},null,8,["gacha"])])):m("",!0),t("div",ft,[r(f,{href:c.route("main"),class:"inline-block items-center px-4 py-2 m-1 bg-neutral-700 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-neutral-900 active:bg-neutral-900 focus:outline-none focus:border-neutral-900 focus:shadow-outline-neutral transition ease-in-out duration-150"},{default:_(()=>[h(" \u30AC\u30C1\u30E3\u9078\u629E\u30DA\u30FC\u30B8\u3078 ")]),_:1},8,["href"]),r(f,{href:c.route("user.products"),class:"inline-block items-center px-4 py-2 m-1 bg-neutral-400 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-neutral-700 active:bg-neutral-700 focus:outline-none focus:border-neutral-700 focus:shadow-outline-neutral transition ease-in-out duration-150"},{default:_(()=>[h(" \u7372\u5F97\u3057\u305F\u5546\u54C1\u4E00\u89A7\u3078 ")]),_:1},8,["href"])])])]),_:1})],64)}const Ct=T(G,[["render",mt],["__scopeId","data-v-2faf9e10"]]);export{Ct as default};
