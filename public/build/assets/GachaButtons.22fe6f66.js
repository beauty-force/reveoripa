import{L as l,j as p,u as d,o as n,c,b as t,n as h,t as i,f as _}from"./app.f1f12115.js";import{u as x}from"./useConfirm.62bf5f8e.js";import{_ as u}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as m}from"./PlayIcon.8c62b4e8.js";const{confirm:f}=x(),b={components:{Link:l,PlayIcon:m},props:{gacha:Object},data(){return{category_share:p().props.value.category_share,str_gacha10:"",str_gacha50:"",str_gacha100:"",str_gacha500:"",point_10gacha:0,point_100gacha:0,point_500gacha:0,processing:!1}},methods:{format_number(e){return String(e).replace(/(.)(?=(\d{3})+$)/g,"$1,")},clickgacha(e){let a=this.gacha.point*e;f(`\u30AC\u30C1\u30E3\u3092\u5F15\u304D\u307E\u3059\u304B\uFF1F
`+e+"\u56DE\u5206\u306E\u30DD\u30A4\u30F3\u30C8\u3092"+a.toLocaleString()+"PT\u6D88\u8CBB\u3057\u307E\u3059\u3002").then(o=>{o&&this.start_gacha(e)})},start_gacha(e){this.processing=!0,!this.url_edit&&d({id:this.gacha.id,number:e,code:this.gacha.code}).post(route("user.gacha.start_post"),{onFinish:()=>{this.processing=!1}})}},mounted(){this.gacha.count_rest<=10?(this.str_gacha10="\u5168\u3066",this.point_10gacha=this.gacha.count_rest*this.gacha.point):(this.str_gacha10="10\u9023",this.point_10gacha=10*this.gacha.point),this.gacha.count_rest<=100?(this.str_gacha100="\u5168\u3066",this.point_100gacha=this.gacha.count_rest*this.gacha.point):(this.str_gacha100="100\u9023",this.point_100gacha=100*this.gacha.point),this.gacha.count_rest<=500?(this.str_gacha500="\u5168\u3066",this.point_500gacha=this.gacha.count_rest*this.gacha.point):(this.str_gacha500="500\u9023",this.point_500gacha=500*this.gacha.point),this.url_edit||(this.url_card=route("user.gacha",this.gacha.id)+this.category_share.cat_route_appendix)}},y={key:0,class:"w-full mx-auto flex flex-col justify-center py-1 px-1 gap-3 md:max-w-md"},v={class:"flex font-[mplus2] gap-3 flex-wrap"},w=["disabled"],k={class:"text-nowrap flex items-center justify-center min-w-36"},j=t("span",{class:"font-extrabold text-[16px] text-gray-600"},"1\u56DE",-1),C=t("span",{class:"font-semibold text-[12px] text-gray-600"},"\u30AC\u30C1\u30E3",-1),B=t("img",{src:"/images/icon_cash.png?v=4",class:"ml-2 h-4"},null,-1),G={class:"font-semibold text-[14px] text-gray-700"},L=["disabled"],P={class:"text-nowrap flex items-center justify-center min-w-36"},S={class:"font-extrabold text-[16px]"},F=t("span",{class:"font-semibold text-[12px]"},"\u30AC\u30C1\u30E3",-1),N=t("img",{src:"/images/icon_cash.png?v=4",class:"ml-2 h-4"},null,-1),V={class:"font-semibold text-[14px]"},z={class:"flex font-[mplus2] gap-2 flex-wrap"},D=["disabled"],E={class:"text-nowrap flex items-center justify-center"},I={class:"font-extrabold text-[16px] bg-gradient-to-r from-white to-rose-100 bg-clip-text text-transparent"},O=t("span",{class:"font-semibold text-[12px] text-rose-100"},"\u30AC\u30C1\u30E3",-1),T=t("img",{src:"/images/icon_cash.png?v=4",class:"ml-2 h-4"},null,-1),q={class:"font-semibold text-[14px] text-rose-50"};function A(e,a,o,H,s,r){return o.gacha.count_rest>0?(n(),c("div",y,[t("div",v,[t("button",{onClick:a[0]||(a[0]=g=>r.clickgacha(1)),class:h([{"opacity-50":s.processing},"cursor-pointer rounded-2xl bg-gradient-to-br from-gray-100 to-gray-200 hover:from-gray-200 hover:to-gray-300 text-gray-800 flex-1 text-center space-y-1 pt-2 pb-2.5 border-2 border-gray-200 shadow-[0_2px_12px_rgba(0,0,0,0.1)] hover:shadow-[0_6px_16px_rgba(0,0,0,0.15)] transition-all duration-300 hover:-translate-y-0.5"]),disabled:s.processing},[t("div",k,[j,C,B,t("span",G,i(r.format_number(o.gacha.point)),1)])],10,w),o.gacha.count_rest>1?(n(),c("button",{key:0,onClick:a[1]||(a[1]=g=>r.clickgacha(10)),class:h([{"opacity-50":s.processing},"cursor-pointer rounded-2xl bg-gradient-to-br from-orange-200 to-orange-400 hover:from-orange-300 hover:to-orange-400 text-gray-700 flex-1 text-center space-y-1 pt-2 pb-2.5 border-2 border-orange-200/30 shadow-[0_4px_12px_rgba(249,115,22,0.3)] hover:shadow-[0_6px_16px_rgba(249,115,22,0.4)] transition-all duration-300 hover:-translate-y-0.5"]),disabled:s.processing},[t("div",P,[t("span",S,i(s.str_gacha10),1),F,N,t("span",V,i(r.format_number(s.point_10gacha)),1)])],10,L)):_("",!0)]),t("div",z,[o.gacha.count_rest>10&&o.gacha.gacha_limit==0?(n(),c("button",{key:0,onClick:a[2]||(a[2]=g=>r.clickgacha(100)),class:h([{"opacity-50":s.processing},"cursor-pointer rounded-2xl bg-gradient-to-br from-rose-500 to-rose-700 hover:from-rose-600 hover:to-rose-800 text-white flex-1 text-center space-y-1 pt-2 pb-2.5 border-2 border-rose-400/30 shadow-[0_4px_12px_rgba(220,38,38,0.3)] hover:shadow-[0_6px_16px_rgba(220,38,38,0.4)] transition-all duration-300 hover:-translate-y-0.5"]),disabled:s.processing},[t("div",E,[t("span",I,i(s.str_gacha100),1),O,T,t("span",q,i(r.format_number(s.point_100gacha)),1)])],10,D)):_("",!0)])])):_("",!0)}const R=u(b,[["render",A]]);export{R as G};
