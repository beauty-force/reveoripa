import{H as C,L as j,u as b,r as _,o as c,c as a,a as p,w as g,F as h,b as t,h as v,k as N,l as d,t as e,n as m,g as S,v as T,f}from"./app.2c70ae84.js";import{A as H}from"./Admin.b8508641.js";import{P as I}from"./Pagination.95ade284.js";import{_ as O}from"./_plugin-vue_export-helper.cdc0426e.js";import{a as V}from"./useConfirm.46558840.js";import{r as A}from"./ChevronRightIcon.433400d3.js";import{r as B}from"./EllipsisHorizontalIcon.49a2c523.js";const D={components:{Head:C,AppLayout:H,Link:j,ChevronLeftIcon:V,ChevronRightIcon:A,EllipsisHorizontalIcon:B,Pagination:I},props:{errors:Object,gacha:Object,category_share:Object,products:Object,search_cond:Object,total:Number,totalPoints:Number,totalProducts:Number,searchProducts:Number,searchPoints:Number},data(){return{main_tab:[{title:"\u767A\u9001\u4F9D\u983C\u4E2D",route_url:route("admin.delivery"),is_active:!1},{title:"\u767A\u9001\u6E08\u307F",route_url:route("admin.delivery.completed"),is_active:!0},{title:"\u53D6\u5F97\u6E08\u307F",route_url:route("admin.delivery.acquired"),is_active:!1}],page_step:0,is_busy:!1,profile:{},product:{},user:{}}},setup(r){let l={},o;for(o=0;o<r.products.data.length;o++)l["id"+r.products.data[o].id]=!1;const i=b(r.search_cond);return{form:b({id:0}),form_search:i}},methods:{showProductDetail(r){this.is_busy=!0;const l={id:r.id};axios.post(route("admin.delivery.product_data"),l).then(o=>{(o.status==201||o.status==200)&&o.data.status&&(this.profile=o.data.profile,this.user=o.data.user,this.product=r,this.page_step=1),this.is_busy=!1}).catch(o=>{this.is_busy=!0,console.log(o)})},backToList(){this.page_step=0},submit(r){this.form.id=r,this.form.post(route("admin.delivery.un_delivery"),{onFinish:()=>{this.page_step=0}})},search(){this.form_search.get(route("admin.delivery.completed"))}}},F={key:0,class:"pt-2 md:px-6 px-4 mb-6"},R={class:"w-full text-neutral-400 mb-3"},z={class:"mb-2 flex justify-between items-center text-sm"},E=t("br",null,null,-1),q=t("br",null,null,-1),M={class:"flex items-center gap-2 w-full flex-wrap mb-2 py-2 justify-between text-sm"},U={class:"flex items-center gap-2 flex-1"},G={class:"mb-6"},J={class:"mb-0 border-neutral-200 border-b py-1"},K=["onClick"],Q=["src"],W={class:"cursor-pointer min-h-20 flex items-center justify-between flex-1 text-xs py-1 px-2"},X={class:"text-left min-h-20 flex flex-col justify-evenly"},Y={class:"text-red-500"},Z={class:"text-neutral-300"},$={key:1,class:"pt-6 md:px-6 px-4 mb-6"},tt=t("h2",{class:"mb-2 text-lg font-bold"},"\u914D\u9001\u6E08\u307F\u5546\u54C1\u8A73\u7D30",-1),et=t("hr",{class:"mb-3"},null,-1),st={class:"mb-6"},ot={class:"flex border-neutral-200 items-center w-full"},nt=["src"],lt={class:"cursor-pointer min-h-20 flex items-center justify-between flex-1 text-xs py-1 px-2"},rt={class:"text-left"},it={class:"text-red-500"},ct=t("div",{class:"mb-1 text-base font-semibold"},"\u914D\u9001\u5148\u60C5\u5831",-1),at=t("hr",{class:"mb-3"},null,-1),dt={class:"w-full mb-6"},ut={class:"w-full text-sm"},_t=t("td",{class:"p-1 w-2/5 font-bold"},"\u30A2\u30C9\u30EC\u30B9",-1),pt={class:"p-1 w-3/5"},ht=t("td",{class:"p-1 w-2/5 font-bold"},"\u540D\u524D",-1),mt={class:"p-1 w-3/5"},ft=t("td",{class:"p-1 w-2/5 font-bold"},"\u540D\u524D(\u30AB\u30CA)",-1),bt={class:"p-1 w-3/5"},gt=t("td",{class:"p-1 w-2/5 font-bold"},"\u90F5\u4FBF\u756A\u53F7",-1),vt={class:"p-1 w-3/5"},xt=t("td",{class:"p-1 w-2/5 font-bold"},"\u90FD\u9053\u5E9C\u770C",-1),wt={class:"p-1 w-3/5"},yt=t("td",{class:"p-1 w-2/5 font-bold"},"\u4F4F\u6240",-1),kt={class:"p-1 w-3/5"},Lt=t("td",{class:"p-1 w-2/5 font-bold"},"\u96FB\u8A71\u756A\u53F7",-1),Pt={class:"p-1 w-3/5"},Ct=t("td",{class:"p-1 w-2/5 font-bold"},"\u96FB\u8A71\u756A\u53F7",-1),jt={class:"p-1 w-3/5"},Nt={class:"mb-6 w-full text-center"},St=["disabled"],Tt=["disabled"];function Ht(r,l,o,i,s,u){const x=_("Head"),w=_("Link"),y=_("ChevronRightIcon"),k=_("Pagination"),L=_("AppLayout");return c(),a(h,null,[p(x,{title:"\u914D\u9001\u5546\u54C1"}),p(L,null,{default:g(()=>[s.page_step==0?(c(),a("div",F,[t("div",R,[(c(!0),a(h,null,v(s.main_tab,(n,P)=>(c(),N(w,{href:n.route_url,class:m(["inline-block px-4 py-1.5",{"border-b-2 border-red-600 text-red-600":n.is_active}])},{default:g(()=>[d(e(n.title),1)]),_:2},1032,["href","class"]))),256))]),t("div",z,[t("p",null,[d(" \u7DCF\u5546\u54C1\u6570: "+e(o.totalProducts.toLocaleString())+" \u4EF6",1),E,d(" \u7DCF\u30DD\u30A4\u30F3\u30C8: "+e(o.totalPoints.toLocaleString())+" PT ",1)]),t("p",null,[d(" \u691C\u7D22\u5546\u54C1\u6570: "+e(o.searchProducts.toLocaleString())+" \u4EF6",1),q,d(" \u691C\u7D22\u30DD\u30A4\u30F3\u30C8: "+e(o.searchPoints.toLocaleString())+" PT ",1)])]),t("div",M,[t("div",U,[S(t("input",{"onUpdate:modelValue":l[0]||(l[0]=n=>i.form_search.name=n),type:"text",placeholder:"\u540D\u524D\u3001\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3001\u96FB\u8A71\u756A\u53F7\u3001\u5546\u54C1\u540D",class:"h-9 flex-1 w-0 border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300"},null,512),[[T,i.form_search.name]])]),t("button",{type:"button",onClick:l[1]||(l[1]=(...n)=>u.search&&u.search(...n)),class:"rounded-md border bg-neutral-600 text-white px-4 py-2"},"\u691C\u7D22")]),t("div",G,[(c(!0),a(h,null,v(o.products.data,(n,P)=>(c(),a("div",J,[t("button",{onClick:It=>u.showProductDetail(n),class:"flex border-neutral-200 items-center w-full gap-1"},[t("img",{src:n.image,class:"h-20 inline-block object-contain"},null,8,Q),t("div",W,[t("div",X,[t("div",null,e(n.name),1),t("div",null,e(n.gacha_title),1),t("div",null,[t("span",Y,e(n.point.toLocaleString())+"pt",1),d(" ("+e(n.rare)+")",1)]),t("div",null,e(n.updated_at),1),t("div",null,"\u8FFD\u8DE1\u756A\u53F7: "+e(n.tracking_number),1)]),t("div",Z,[p(y,{class:"w-5"})])])],8,K)]))),256))]),p(k,{search_cond:o.search_cond,route_name:"admin.delivery.completed",total:o.total},null,8,["search_cond","total"])])):f("",!0),s.page_step==1?(c(),a("div",$,[tt,et,t("div",st,[t("div",ot,[t("img",{src:s.product.image,class:"w-20 h-20 inline-block object-contain"},null,8,nt),t("div",lt,[t("div",rt,[t("div",null,e(s.product.name),1),t("div",null,[t("span",it,e(s.product.point.toLocaleString())+"pt",1),d(" ("+e(s.product.rare)+")",1)]),t("div",null,e(s.product.updated_at),1),t("div",null,e(s.product.address),1),t("div",null,"\u8FFD\u8DE1\u756A\u53F7: "+e(s.product.tracking_number),1)])])])]),ct,at,t("div",dt,[t("table",ut,[t("tr",null,[_t,t("td",pt,e(s.user.email),1)]),s.profile?(c(),a(h,{key:0},[t("tr",null,[ht,t("td",mt,e(s.profile.first_name)+" "+e(s.profile.last_name),1)]),t("tr",null,[ft,t("td",bt,e(s.profile.first_name_gana)+" "+e(s.profile.last_name_gana),1)]),t("tr",null,[gt,t("td",vt,e(s.profile.postal_code),1)]),t("tr",null,[xt,t("td",wt,e(s.profile.prefecture),1)]),t("tr",null,[yt,t("td",kt,e(s.profile.city)+e(s.profile.street)+"\u3000"+e(s.profile.building),1)]),t("tr",null,[Lt,t("td",Pt,e(s.profile.phone),1)]),t("tr",null,[Ct,t("td",jt,e(s.profile.phone),1)])],64)):f("",!0)])]),t("div",Nt,[t("button",{type:"button",onClick:l[2]||(l[2]=n=>u.backToList()),class:m([{"opacity-25":i.form.processing},"inline-block items-center px-8 py-2.5 bg-neutral-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-neutral-700 active:bg-neutral-700 focus:outline-none focus:border-neutral-700 focus:shadow-outline-neutral transition ease-in-out duration-150 m-1"]),disabled:i.form.processing}," \u30EA\u30B9\u30C8\u3078 ",10,St),t("button",{type:"button",onClick:l[3]||(l[3]=n=>u.submit(s.product.id)),class:m([{"opacity-25":i.form.processing},"inline-block items-center px-8 py-2.5 bg-neutral-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-neutral-700 active:bg-neutral-700 focus:outline-none focus:border-neutral-700 focus:shadow-outline-neutral transition ease-in-out duration-150 m-1"]),disabled:i.form.processing}," \u672A\u767A\u9001\u306B\u623B\u3059 ",10,Tt)])])):f("",!0)]),_:1})],64)}const zt=O(D,[["render",Ht]]);export{zt as default};
