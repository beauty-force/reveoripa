import{H as M,d as H,u as j,r as m,o as a,c as d,a as c,w as f,F as g,b as e,h as S,J as l,f as h,_ as U,e as W,g as _,v as b,n as V,l as u}from"./app.51bceb7b.js";import{A as D}from"./Admin.229100b8.js";import{N as P,e as R,U as O,o as q,f as I,u as N}from"./useConfirm.4aa4a849.js";import{_ as z}from"./_plugin-vue_export-helper.cdc0426e.js";const{confirm:A}=N(),F={components:{Head:M,AppLayout:D,Dialog:P,DialogPanel:R,DialogTitle:O,TransitionChild:q,TransitionRoot:I},props:{errors:Object,ranks:Object},data(){return{url1:null,url2:null,open:!1}},methods:{destroy_rank(s){A("\u524A\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304B\uFF1F","","error").then(o=>{o&&H.Inertia.delete(route("admin.rank.destroy",{id:s}))})},modalOpen(s){s?(this.form.id=s.id,this.form.rank=s.rank,this.form.title=s.title,this.form.limit=s.limit,this.form.bonus=s.bonus,this.form.pt_rate=s.pt_rate,this.form.dp_rate=s.dp_rate,this.form.badge="",this.url1=s.image,this.url2=s.badge):(this.form.id=0,this.form.rank="",this.form.title="",this.form.limit="",this.form.bonus="",this.form.pt_rate=0,this.form.dp_rate=0,this.form.badge="",this.url1="",this.url2=""),this.open=!0},closeModal(){this.open=!1},submit(){this.$refs.photo2.files[0]&&(this.form.badge=this.$refs.photo2.files[0]),this.form.post(route("admin.rank.store"),{preserveScroll:!0,onFinish:()=>{}})},previewImage1(s){const o=s.target.files[0];this.url1=URL.createObjectURL(o)},previewImage2(s){const o=s.target.files[0];this.url2=URL.createObjectURL(o)},pt_rate_string(s){return s.rank==1?'<span class="text-[1.5em]">\u2014</span>':s.limit<0||s.pt_rate<=0?'<span class="text-[1.2em]">???</span>':`${s.pt_rate}%\u4ED8\u4E0E<br/>(\u8CFC\u5165\u6642PT\u306E)`},format_number(s){return String(s).replace(/(.)(?=(\d{3})+$)/g,"$1,")},bonus_pt_string(s){return s.rank==1?'<span class="text-[1.5em]">\u2014</span>':s.limit<0||s.pt_rate<=0?'<span class="text-[1.2em]">???</span>':`${this.format_number(s.bonus)}PT`}},setup(s){return{form:j({id:"",rank:"",title:"",limit:"",bonus:"",pt_rate:"",dp_rate:"",image:"",badge:""})}},mounted(){}},B={class:"pt-4 px-5 py-2"},E=e("h1",{class:"mb-2 text-lg font-bold"},"\u30E9\u30F3\u30AF\u7279\u5178\u8A2D\u5B9A",-1),J=e("hr",{class:"mb-2"},null,-1),G={class:"flex flex-wrap border-neutral-200 items-center gap-[0.8em]"},K={class:"w-[1em]"},Q=["src"],X={class:"flex-1 flex bg-neutral-200 rounded-lg justify-center relative"},Y=["src"],Z={class:"absolute top-0 bottom-0 left-0 right-0 flex items-center"},$={class:"text-center text-[0.9em] text-black font-black w-[30%] h-full flex flex-col items-center justify-center relative"},ee=["innerHTML"],te=["innerHTML"],se=e("div",{class:"h-full w-[0.3em] bg-white"},null,-1),oe={class:"text-center text-[0.8em] font-bold text-white w-[40%] h-full flex items-center justify-center"},re={class:"text-center flex gap-[0.4em] items-end h-full"},ne={class:"relative flex justify-center text-[1em]"},le={class:"absolute leading-[1.2em]"},ie=e("div",{class:"h-full w-[0.3em] bg-white"},null,-1),ae={class:"w-[30%] flex divide-x-[0.3em] divide-white h-full relative"},de={class:"text-center text-[0.9em] text-black font-black w-[40%] h-full flex items-center justify-center"},ce=["innerHTML"],ue=["innerHTML"],me={class:"text-center text-[0.9em] text-black font-black w-[60%] h-full flex items-center justify-center relative"},fe=["innerHTML"],_e=["innerHTML"],be={class:"flex items-center justify-between"},pe={key:0,class:"text-sm"},he={key:1},xe={class:"my-2 text-center"},ge=["onClick"],ve=["onClick"],ye={class:"text-center mb-6"},ke=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),we={class:"fixed inset-0 z-20 overflow-y-auto"},Te={class:"flex min-h-full items-center justify-center p-4 text-center sm:items-center sm:p-0"},Ce={class:"mb-4"},Le=e("label",{for:"rank",class:"block font-medium text-sm text-neutral-700 mb-1"},[u("\u30E9\u30F3\u30AF\uFF08\u534A\u89D2\u6570\u5B57\uFF09"),e("span",{class:"text-red-500"},"*")],-1),Me={class:"text-red-500 text-sm mt-1"},He={class:"mb-4"},je=e("label",{for:"title",class:"block font-medium text-sm text-neutral-700 mb-1"},[u("\u30E9\u30F3\u30AF\u540D"),e("span",{class:"text-red-500"},"*")],-1),Se={class:"text-red-500 text-sm mt-1"},Ue={class:"mb-4"},We=e("label",{for:"limit",class:"block font-medium text-sm text-neutral-700 mb-1"},[u("\u6D88\u8CBB\u57FA\u6E96\u91CF\uFF08\u534A\u89D2\u6570\u5B57\uFF09"),e("span",{class:"text-red-500"},"*")],-1),Ve={class:"text-red-500 text-sm mt-1"},De={class:"mb-4"},Pe=e("label",{for:"bonus",class:"block font-medium text-sm text-neutral-700 mb-1"},[u("\u30DC\u30FC\u30CA\u30B9PT\uFF08\u534A\u89D2\u6570\u5B57\uFF09"),e("span",{class:"text-red-500"},"*")],-1),Re={class:"text-red-500 text-sm mt-1"},Oe={class:"mb-4"},qe=e("label",{for:"pt_rate",class:"block font-medium text-sm text-neutral-700 mb-1"},[u("\u8CFC\u5165\u6642PT\u4ED8\u4E0E\u7279\u5178 (%)"),e("span",{class:"text-red-500"},"*")],-1),Ie={class:"text-red-500 text-sm mt-1"},Ne={class:"mb-4"},ze=e("label",{for:"dp_rate",class:"block font-medium text-sm text-neutral-700 mb-1"},[u("RP\u4ED8\u4E0E\u7387 (%)"),e("span",{class:"text-red-500"},"*")],-1),Ae={class:"text-red-500 text-sm mt-1"},Fe={class:"mb-4"},Be=e("label",{for:"file1-1",class:"block font-medium text-sm text-neutral-700 mb-1"},[u("\u30E9\u30F3\u30AF\u30AB\u30FC\u30C9\u753B\u50CF "),e("span",{class:"text-red-500"},"*")],-1),Ee={class:"text-center w-full"},Je=["src"],Ge={class:"text-red-500 text-sm mt-1"},Ke={class:"mb-6 text-center"},Qe=["disabled"];function Xe(s,o,i,r,p,n){const v=m("Head"),x=m("TransitionChild"),y=m("DialogPanel"),k=m("Dialog"),w=m("TransitionRoot"),T=m("AppLayout");return a(),d(g,null,[c(v,{title:"\u30E9\u30F3\u30AF\u7279\u5178\u8A2D\u5B9A"}),c(T,{closeModal:n.closeModal},{default:f(()=>[e("div",B,[E,J,(a(!0),d(g,null,S(i.ranks,(t,C)=>(a(),d("div",{class:"my-2 text-[0.6em] md:text-[1em] sm:text-[0.8em]",key:C},[e("div",G,[e("div",K,l(t.rank),1),t.badge?(a(),d("img",{key:0,src:t.badge,class:"h-[8.5vw] max-h-[80px] inline-block object-contain"},null,8,Q)):h("",!0),e("div",X,[t.image?(a(),d("img",{key:0,src:t.image,class:"h-[8.5vw] max-h-[80px]"},null,8,Y)):h("",!0),e("div",Z,[e("div",$,[e("span",{class:"leading-[1.4em]",innerHTML:n.pt_rate_string(t),style:{WebkitTextStrokeColor:"white",WebkitTextStrokeWidth:"2px"}},null,8,ee),e("span",{class:"absolute leading-[1.4em]",innerHTML:n.pt_rate_string(t)},null,8,te)]),se,e("div",oe,[e("div",re,[e("div",ne,[e("span",{class:"leading-[1.2em]",style:U({WebkitTextStrokeColor:"black",WebkitTextStrokeWidth:"2.5px"})},"( "+l(t.title)+" )",5),e("span",le,"( "+l(t.title)+" )",1)])])]),ie,e("div",ae,[e("div",de,[e("span",{innerHTML:t.dp_rate>0?t.dp_rate+"%":"<span class='text-[1.2em]'>???</span>",style:{WebkitTextStrokeColor:"white",WebkitTextStrokeWidth:"2px"}},null,8,ce),e("span",{class:"absolute",innerHTML:t.dp_rate>0?t.dp_rate+"%":"<span class='text-[1.2em]'>???</span>"},null,8,ue)]),e("div",me,[e("span",{class:"leading-[1.4em]",innerHTML:n.bonus_pt_string(t),style:{WebkitTextStrokeColor:"white",WebkitTextStrokeWidth:"2px"}},null,8,fe),e("span",{class:"absolute leading-[1.4em]",innerHTML:n.bonus_pt_string(t)},null,8,_e)])])])])]),e("div",be,[t.limit>0?(a(),d("span",pe,"\u6D88\u8CBB\u57FA\u6E96\u91CF: "+l(n.format_number(t.limit))+" PT",1)):(a(),d("span",he)),e("div",xe,[e("button",{type:"button",onClick:L=>n.modalOpen(t),class:"inline-block items-center px-6 py-2 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150 mr-2"}," \u7DE8\u96C6 ",8,ge),e("button",{type:"button",onClick:L=>n.destroy_rank(t.id),class:"inline-block items-center px-6 py-2 bg-red-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 active:bg-red-700 focus:outline-none focus:border-red-700 focus:shadow-outline-red transition ease-in-out duration-150"}," \u524A\u9664 ",8,ve)])])]))),128)),e("div",ye,[e("button",{type:"button",onClick:o[0]||(o[0]=t=>n.modalOpen(0)),class:"inline-block items-center px-10 py-2.5 bg-cyan-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-cyan-700 active:bg-cyan-700 focus:outline-none focus:border-cyan-700 focus:shadow-outline-cyan transition ease-in-out duration-150 mr-2"}," \u8FFD\u52A0 ")])]),e("template",null,[c(w,{as:"template",show:p.open},{default:f(()=>[c(k,{as:"div",class:"relative z-20",onClose:o[10]||(o[10]=t=>p.open=!1)},{default:f(()=>[c(x,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:f(()=>[ke]),_:1}),e("div",we,[e("div",Te,[c(x,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:f(()=>[c(y,{class:"p-3 relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:f(()=>[e("form",{onSubmit:o[9]||(o[9]=W(t=>n.submit(),["prevent"]))},[e("div",Ce,[Le,_(e("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>r.form.rank=t),id:"rank",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",required:""},null,512),[[b,r.form.rank]]),e("div",Me,l(i.errors.rank),1)]),e("div",He,[je,_(e("input",{"onUpdate:modelValue":o[2]||(o[2]=t=>r.form.title=t),id:"title",type:"text",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",required:""},null,512),[[b,r.form.title]]),e("div",Se,l(i.errors.title),1)]),e("div",Ue,[We,_(e("input",{"onUpdate:modelValue":o[3]||(o[3]=t=>r.form.limit=t),id:"limit",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",required:""},null,512),[[b,r.form.limit]]),e("div",Ve,l(i.errors.limit),1)]),e("div",De,[Pe,_(e("input",{"onUpdate:modelValue":o[4]||(o[4]=t=>r.form.bonus=t),id:"bonus",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",required:""},null,512),[[b,r.form.bonus]]),e("div",Re,l(i.errors.bonus),1)]),e("div",Oe,[qe,_(e("input",{"onUpdate:modelValue":o[5]||(o[5]=t=>r.form.pt_rate=t),id:"pt_rate",type:"number",min:"0",step:"0.01",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",required:""},null,512),[[b,r.form.pt_rate]]),e("div",Ie,l(i.errors.pt_rate),1)]),e("div",Ne,[ze,_(e("input",{"onUpdate:modelValue":o[6]||(o[6]=t=>r.form.dp_rate=t),id:"dp_rate",type:"number",min:"0",step:"0.01",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",required:""},null,512),[[b,r.form.dp_rate]]),e("div",Ae,l(i.errors.dp_rate),1)]),e("div",Fe,[Be,e("div",Ee,[p.url2?(a(),d("img",{key:0,src:p.url2,class:"inline-block mt-4 h-24"},null,8,Je)):h("",!0)]),e("input",{onChange:o[7]||(o[7]=(...t)=>n.previewImage2&&n.previewImage2(...t)),ref:"photo2",id:"file1-1",type:"file",class:"w-full"},null,544),e("div",Ge,l(i.errors.badge),1)]),e("div",Ke,[e("button",{type:"submit",class:V([{"opacity-25":r.form.processing},"inline-block items-center px-8 py-2.5 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150 mr-2"]),disabled:r.form.processing}," \u4FDD\u5B58 ",10,Qe),e("button",{type:"button",onClick:o[8]||(o[8]=t=>p.open=!1),class:"inline-block items-center px-8 py-2.5 bg-red-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 active:bg-red-700 focus:outline-none focus:border-red-700 focus:shadow-outline-red transition ease-in-out duration-150"}," \u30AD\u30E3\u30F3\u30BB\u30EB ")])],32)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])]),_:1},8,["closeModal"])],64)}const tt=z(F,[["render",Xe]]);export{tt as default};
