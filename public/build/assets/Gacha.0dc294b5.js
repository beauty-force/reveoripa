import{H as I,L as M,r as m,o as s,c as a,a as h,w as b,F as d,b as e,f as c,h as g,t as u,n as S,_ as B,K as D,M as T,l as f}from"./app.019f8f9d.js";import{A}from"./Admin.dba16d13.js";import{F as G,f as N,o as L,N as V,V as O,r as P}from"./useConfirm.1f897846.js";import{G as z}from"./GachaButtons.f091b9a2.js";import{P as F}from"./Pagination.495f7cb1.js";import{_ as H}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as R}from"./ExclamationTriangleIcon.1d301d34.js";import"./PlayIcon.9381fff7.js";import"./ChevronRightIcon.b2887bf0.js";import"./EllipsisHorizontalIcon.f49f7308.js";const E={components:{Head:I,AppLayout:A,Footer:G,Link:M,GachaButtons:z,Pagination:F,TransitionRoot:N,TransitionChild:L,Dialog:V,DialogOverlay:O,XMarkIcon:P,ExclamationTriangleIcon:R},props:{errors:Object,gacha:Object,category_share:Object,gacha_log:Array,is_admin:Boolean,search_cond:Object,total:Number,code:String},data(){return{products:[this.gacha.products.filter(l=>l.rank==1),this.gacha.products.filter(l=>l.rank==2),this.gacha.products.filter(l=>l.rank==3),this.gacha.products.filter(l=>l.rank==4)],last_product:this.gacha.products.filter(l=>l.is_last==1),isDialogMessage:!1,dialogMessage:"",image:""}},methods:{format_number(l){return String(l).replace(/(.)(?=(\d{3})+$)/g,"$1,")},openImage(l){this.image=l,this.isDialogMessage=!0}},computed:{progress_width(){return this.gacha.count_card>0?Math.round(this.gacha.count_rest*100/this.gacha.count_card)+"%":"100%"},progress_color(){let l=this.gacha.count_card>0?Math.round(this.gacha.count_rest*100/this.gacha.count_card):100;return l>=50?"bg-green-500":l>=20?"bg-yellow-500":"bg-rose-500"}}},i=l=>(D("data-v-7e4d8e84"),l=l(),T(),l),K={key:0,class:"w-full min-h-full flex flex-col"},X={class:"md:w-[680px] w-full mx-auto bg-white flex-1"},q={class:"mx-auto relative"},J=["src"],Q=["src"],U={class:"flex justify-center items-center flex-col w-full mx-auto px-2 font-[mplus2] py-6"},W={key:0,src:"/images/Scard.png",class:"h-16"},Y={key:1,class:"flex flex-wrap justify-center w-full mt-2 mb-8"},Z=["onClick"],$=["src"],ee=["src","alt"],te={key:2,src:"/images/Acard.png",class:"h-16"},se={key:3,class:"flex flex-wrap justify-center w-full mt-2 mb-8"},ae=["onClick"],le=["src"],oe=["src","alt"],ce={key:4,src:"/images/Bcard.png",class:"h-16"},ne={key:5,class:"flex flex-wrap justify-center w-full mt-2 mb-8"},ie=["onClick"],re=["src"],_e=["src","alt"],de={key:6,src:"/images/Ccard.png",class:"h-16"},ue={key:7,class:"flex flex-wrap justify-center w-full mt-2 mb-8"},he=["onClick"],me=["src"],ge=["src","alt"],fe={key:8,class:"text-xl font-bold text-purple-500 stroke-text"},pe={key:9,class:"flex flex-wrap justify-center w-full my-4"},xe=["onClick"],be=["src"],ye=["src","alt"],we=i(()=>e("span",{class:"mt-8 mb-4 text-xl font-bold"},"\u305D\u306E\u4ED6",-1)),ve=i(()=>e("span",{class:"mb-4"},"\u30FB\u305D\u306E\u4ED6\u30AB\u30FC\u30C9\u3042\u308A",-1)),ke={class:"sticky bottom-0 bg-white backdrop-blur-sm"},Ce={class:"w-full md:max-w-md mx-auto flex flex-col justify-center flex-1 max-h-20"},je={class:"font-[mplus2]"},Ie={class:"flex justify-between items-end py-1.5 w-full"},Me={class:"flex items-end gap-1.5 w-[45%] px-3"},Se=i(()=>e("img",{src:"/images/icon_cash.png?v=4",class:"h-5 mb-1"},null,-1)),Be={class:"text-base md:text-xl font-bold"},De=i(()=>e("span",{class:"text-xs pb-0.5 text-nowrap"},"/1\u56DE",-1)),Te={class:"flex-1 flex flex-col items-end gap-1.5 pr-2"},Ae={key:0,class:"text-xs pr-1"},Ge={key:1,class:"flex items-center"},Ne=i(()=>e("span",{class:"font-semibold pr-2"},"- / -",-1)),Le=[Ne],Ve={class:"w-full px-2 pb-1"},Oe={class:"w-full h-2 rounded-full overflow-hidden flex bg-neutral-300/50"},Pe={class:"px-1 py-1 flex items-end"},ze={key:1,class:"w-full"},Fe={class:"flex flex-wrap justify-between items-center px-4 py-3 sticky top-[79px] bg-white"},He=i(()=>e("h3",{class:"underline underline-offset-4 text-lg"},"\u6392\u51FA\u5C65\u6B74",-1)),Re={class:"overflow-auto px-1"},Ee={class:"min-w-full"},Ke={class:"border-b border-collapse text-nowrap"},Xe=i(()=>e("th",{class:"text-center py-2 px-2"},"\u756A\u53F7",-1)),qe=i(()=>e("th",{class:"text-center py-2 px-2"},"\u540D\u524D",-1)),Je=i(()=>e("th",{class:"text-center py-2 px-2"},"\u753B\u50CF",-1)),Qe=i(()=>e("th",{class:"text-center py-2 px-2"},"\u30EC\u30A2\u5EA6",-1)),Ue=i(()=>e("th",{class:"text-center py-2 px-2"},"\u30DD\u30A4\u30F3\u30C8",-1)),We=i(()=>e("th",{class:"text-center py-2 px-2"},"\u30E6\u30FC\u30B6\u30FC",-1)),Ye=i(()=>e("th",{class:"text-center py-2 px-2"},"\u6642\u9593",-1)),Ze={class:"border-b border-collapse text-sm"},$e={class:"text-center py-2 px-2"},et={class:"text-center py-2 px-2"},tt={class:"text-center py-1 px-2 flex justify-center min-w-20 items-center"},st=["src"],at={class:"text-center py-2 px-2"},lt={class:"text-center py-2 px-2"},ot={class:"text-center py-2 px-2"},ct={class:"text-center py-2 px-2"},nt=i(()=>e("div",{class:"w-full bg-white py-6 px-4"},[e("div",{class:"max-w-4xl mx-auto font-[mplus2] text-sm leading-relaxed space-y-3"},[e("div",null,[e("span",{class:"font-bold"},"\u30FB\u30B1\u30FC\u30B9\u3084\u30AB\u30FC\u30C9\u306E\u50B7\u306B\u3064\u3044\u3066"),e("br"),f(" \u30AA\u30EA\u30D1\u3067\u6392\u51FA\u3055\u308C\u308B\u5546\u54C1\u306B\u306F\u50B7\u3084\u6C5A\u308C\u306E\u3042\u308B\u30AB\u30FC\u30C9\u304C\u3042\u308B\u5834\u5408\u304C\u3054\u3056\u3044\u307E\u3059\u3002 ")]),e("div",null,[e("span",{class:"font-bold"},"\u30FB\u9451\u5B9A\u54C1(PSA.BGS)\u306B\u3064\u3044\u3066"),e("br"),f(" \u9451\u5B9A\u54C1\u306B\u3064\u3044\u3066\u306F\u9451\u5B9A\u6A5F\u95A2\u306E\u30B0\u30EC\u30FC\u30C9\u306B\u57FA\u3065\u304D\u8CA9\u58F2\u3057\u3066\u304A\u308A\u307E\u3059\u3002\u30B1\u30FC\u30B9\u5185\u90E8\u306B\u898B\u3089\u308C\u308B\u30AB\u30FC\u30C9\u72B6\u614B\u306B\u3064\u3044\u3066\u3067\u306E\u4EA4\u63DB\u306F\u539F\u5247\u884C\u306A\u3063\u3066\u304A\u308A\u307E\u305B\u3093\u3002\u3054\u4E86\u627F\u304F\u3060\u3055\u3044\u3002 ")]),e("div",null,[e("span",{class:"font-bold"},"\u30FB\u672A\u958B\u5C01box\u306B\u3064\u3044\u3066"),e("br"),f(" \u672A\u958B\u5C01box\u306F\u6975\u529B\u7DBA\u9E97\u306A\u3082\u306E\u3092\u304A\u5C4A\u3051\u3057\u3066\u304A\u308A\u307E\u3059\u304C\u3001\u7A00\u306B\u5916\u88C5\u306B\u8EFD\u5FAE\u306A\u50B7\u3084\u51F9\u307F\u3001\u30B7\u30E5\u30EA\u30F3\u30AF\u306E\u5C0F\u3055\u306A\u7834\u308C\u3001\u30DF\u30B7\u30F3\u76EE\u304C\u7834\u308C\u3066\u3044\u308B\u3053\u3068\u304C\u3042\u308A\u307E\u3059\u3002 ")]),e("div",null,[e("span",{class:"font-bold"},"\u30FB\u78BA\u7387\u8868\u8A18\u306B\u3064\u3044\u3066"),e("br"),f(" \u6392\u51FA\u78BA\u7387\u306F\u30AA\u30EA\u30D1\u767A\u58F2\u6642\u70B9\u3067\u306E\u7406\u8AD6\u5024\u306B\u57FA\u3065\u3044\u3066\u8868\u793A\u3057\u3066\u304A\u308A\u307E\u3059\u3002"),e("br"),f(" \u5B9F\u969B\u306E\u78BA\u7387\u306F\u767A\u58F2\u6642\u70B9\u304B\u3089\u5909\u52D5\u3059\u308B\u53EF\u80FD\u6027\u304C\u3042\u308A\u3001\u8868\u793A\u3055\u308C\u3066\u3044\u308B\u6392\u51FA\u78BA\u7387\u3092\u4FDD\u8A3C\u3059\u308B\u3082\u306E\u3067\u306F\u3054\u3056\u3044\u307E\u305B\u3093\u3002 ")])])],-1)),it=["src"];function rt(l,p,n,_t,o,r){const w=m("Head"),v=m("GachaButtons"),k=m("Pagination"),y=m("TransitionChild"),C=m("TransitionRoot"),j=m("AppLayout");return s(),a(d,null,[h(w,{title:"\u30AC\u30C1\u30E3"}),h(j,null,{default:b(()=>[n.gacha_log.length==0?(s(),a("div",K,[e("div",X,[e("div",q,[n.gacha.image!=""?(s(),a("img",{key:0,src:n.gacha.image,class:"block w-full"},null,8,J)):c("",!0),n.gacha.image==""?(s(),a("img",{key:1,src:n.gacha.thumbnail,class:"block w-full md:w-4/5 mx-auto"},null,8,Q)):c("",!0),e("div",U,[o.products[0].length>0?(s(),a("img",W)):c("",!0),o.products[0].length>0?(s(),a("div",Y,[(s(!0),a(d,null,g(o.products[0],(t,_)=>(s(),a("button",{key:_,onClick:x=>r.openImage(t.image),class:"w-1/2 md:w-1/3 p-2 relative"},[e("img",{src:t.image,class:"w-full"},null,8,$),t.badge?(s(),a("img",{key:0,src:t.badge,class:"absolute bottom-4 w-[calc(100%-3rem)] left-6",alt:t.badge},null,8,ee)):c("",!0)],8,Z))),128))])):c("",!0),o.products[1].length>0?(s(),a("img",te)):c("",!0),o.products[1].length>0?(s(),a("div",se,[(s(!0),a(d,null,g(o.products[1],(t,_)=>(s(),a("button",{key:_,onClick:x=>r.openImage(t.image),class:"w-1/3 p-2 relative"},[e("img",{src:t.image,class:"w-full"},null,8,le),t.badge?(s(),a("img",{key:0,src:t.badge,class:"absolute bottom-4 w-[calc(100%-2rem)] left-4",alt:t.badge},null,8,oe)):c("",!0)],8,ae))),128))])):c("",!0),o.products[2].length>0?(s(),a("img",ce)):c("",!0),o.products[2].length>0?(s(),a("div",ne,[(s(!0),a(d,null,g(o.products[2],(t,_)=>(s(),a("button",{key:_,onClick:x=>r.openImage(t.image),class:"w-1/4 p-2 relative"},[e("img",{src:t.image,class:"w-full"},null,8,re),t.badge?(s(),a("img",{key:0,src:t.badge,class:"absolute bottom-3 w-[calc(100%-1rem)] left-2",alt:t.badge},null,8,_e)):c("",!0)],8,ie))),128))])):c("",!0),o.products[3].length>0?(s(),a("img",de)):c("",!0),o.products[3].length>0?(s(),a("div",ue,[(s(!0),a(d,null,g(o.products[3],(t,_)=>(s(),a("button",{key:_,onClick:x=>r.openImage(t.image),class:"w-1/4 p-2 relative"},[e("img",{src:t.image,class:"w-full"},null,8,me),t.badge?(s(),a("img",{key:0,src:t.badge,class:"absolute bottom-3 w-[calc(100%-1rem)] left-2",alt:t.badge},null,8,ge)):c("",!0)],8,he))),128))])):c("",!0),o.last_product.length>0?(s(),a("span",fe,"( \u30E9\u30B9\u30C8\u30EF\u30F3\u8CDE )")):c("",!0),o.last_product.length>0?(s(),a("div",pe,[(s(!0),a(d,null,g(o.last_product,(t,_)=>(s(),a("button",{key:_,onClick:x=>r.openImage(t.image),class:"w-1/3 p-2 relative"},[e("img",{src:t.image,class:"w-full"},null,8,be),t.badge?(s(),a("img",{key:0,src:t.badge,class:"absolute bottom-4 w-[calc(100%-3rem)] left-6",alt:t.badge},null,8,ye)):c("",!0)],8,xe))),128))])):c("",!0),we,ve])])]),e("div",ke,[e("div",Ce,[e("div",je,[e("div",Ie,[e("div",Me,[Se,e("span",Be,u(r.format_number(n.gacha.point)),1),De]),e("div",Te,[n.gacha.count_card>0?(s(),a("span",Ae," \u306E\u3053\u308A "+u(r.format_number(n.gacha.count_rest))+" / "+u(r.format_number(n.gacha.count_card)),1)):(s(),a("div",Ge,Le))])]),e("div",Ve,[e("div",Oe,[e("div",{class:S(`h-full rounded-full border-neutral-800 transition-all duration-500 ${r.progress_color}`),style:B({width:r.progress_width})},null,6)])])])]),e("div",Pe,[h(v,{gacha:n.gacha},null,8,["gacha"])])])])):(s(),a("div",ze,[e("div",Fe,[He,h(k,{search_cond:{...n.search_cond,id:n.gacha.id},route_name:"user.gacha",total:n.total},null,8,["search_cond","total"])]),e("div",Re,[e("table",Ee,[e("thead",null,[e("tr",Ke,[Xe,qe,Je,Qe,n.is_admin?(s(),a(d,{key:0},[Ue,We,Ye],64)):c("",!0)])]),e("tbody",null,[(s(!0),a(d,null,g(n.gacha_log,(t,_)=>(s(),a("tr",Ze,[e("td",$e,u(t.gacha_record_id),1),e("td",et,u(t.name),1),e("td",tt,[e("img",{class:"w-16",src:t.image},null,8,st)]),e("td",at,u(t.rare),1),n.is_admin?(s(),a(d,{key:0},[e("td",lt,u(r.format_number(t.point)),1),e("td",ot,u(t.email),1),e("td",ct,u(t.gacha_time),1)],64)):c("",!0)]))),256))])])])])),nt,h(C,{show:o.isDialogMessage,class:"h-full fixed inset-0 z-40 top-0"},{default:b(()=>[h(y,{enter:"transition ease-in-out duration-100 transform","enter-from":"scale-50","enter-to":"scale-100",leave:"transition ease-in-out duration-200 transform","leave-from":"opacity-100","leave-to":"opacity-0",as:"template"},{default:b(()=>[e("div",{class:"relative z-20 w-full mx-auto md:w-[768px] h-screen flex items-center",onClick:p[0]||(p[0]=t=>o.isDialogMessage=!1)},[e("img",{src:o.image,class:"mx-auto max-h-[80%] max-w-[80%] w-full object-contain"},null,8,it)])]),_:1}),h(y,{enter:"transition-opacity ease-linear duration-100","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-100","leave-from":"opacity-100","leave-to":"opacity-0",as:"template"},{default:b(()=>[e("div",{class:"fixed inset-0 bg-white h-full",onClick:p[1]||(p[1]=t=>o.isDialogMessage=!1)})]),_:1})]),_:1},8,["show"])]),_:1})],64)}const wt=H(E,[["render",rt],["__scopeId","data-v-7e4d8e84"]]);export{wt as default};
